[gd_scene format=4 uid="uid://cocupvx1iq18c"]

[ext_resource type="PackedScene" path="res://Level/Door.tscn" id="1_b2ndw"]
[ext_resource type="PackedScene" uid="uid://phn6t8twewhc" path="res://Player/character_body_2d.tscn" id="1_ggyr1"]
[ext_resource type="PackedScene" uid="uid://o8foele5h6u1" path="res://Level/tile_map_layer.tscn" id="2_oqwaf"]
[ext_resource type="Texture2D" uid="uid://x4ov6a2danpx" path="res://Images/backgoundsceneee.png" id="3_oqwaf"]
[ext_resource type="Script" uid="uid://nhl6jtpkbas8" path="res://Level/area_2d.gd" id="4_4ouur"]
[ext_resource type="Texture2D" uid="uid://n3b5tkdvnp1o" path="res://icon.svg" id="5_b2ndw"]
[ext_resource type="PackedScene" uid="uid://cdmb1cjkacdus" path="res://pause/pause.tscn" id="6_b2ndw"]
[ext_resource type="AudioStream" uid="uid://bd72kboqukdj1" path="res://Level/Aeris - Moving Mountains (freetouse.com).mp3" id="8_j7kct"]
[ext_resource type="Texture2D" uid="uid://gnruy0m47d0f" path="res://Images/healthbar/swordthorns0.png" id="9_ef6fe"]
[ext_resource type="Texture2D" uid="uid://wxy35p58aam4" path="res://Images/healthbar/swordthorns1.png" id="10_7xy2x"]
[ext_resource type="Texture2D" uid="uid://jtqsku8htfgr" path="res://Images/healthbar/swordthorns2.png" id="11_wwjdc"]
[ext_resource type="Texture2D" uid="uid://cvldh4lmi8kos" path="res://Images/healthbar/swordthorns3.png" id="12_3bagr"]
[ext_resource type="Texture2D" uid="uid://dc8g33orhp7db" path="res://Images/healthbar/swordthorns4.png" id="13_6qpf1"]
[ext_resource type="Texture2D" uid="uid://bp0hemih7c4ki" path="res://Images/healthbar/swordthorns5.png" id="14_5ylc0"]
[ext_resource type="Script" path="res://Level/healthbar_2.gd" id="15_7xy2x"]
[ext_resource type="Texture2D" uid="uid://b15ixa08lk2fy" path="res://Images/healthbar/swordthorns6.png" id="15_bc0wh"]
[ext_resource type="Texture2D" uid="uid://jmsq20vmf1r5" path="res://Images/healthbar/swordthorns7.png" id="16_b725k"]
[ext_resource type="Texture2D" uid="uid://cfqfob8a54u3w" path="res://Images/healthbar/swordthorns8.png" id="17_jhlv2"]
[ext_resource type="AudioStream" uid="uid://bvmqpjhwc8mqk" path="res://hopskok.wav" id="17_wwjdc"]
[ext_resource type="Texture2D" uid="uid://l2sog1v7uasm" path="res://Images/healthbar/swordthorns9.png" id="18_wnion"]
[ext_resource type="Texture2D" uid="uid://dt2tyjqe5g63a" path="res://Images/healthbar/swordthorns10.png" id="19_ceggk"]
[ext_resource type="Texture2D" uid="uid://bl7bflx1e38qj" path="res://Images/healthbar/swordthorns11.png" id="20_fe5yt"]
[ext_resource type="Texture2D" uid="uid://c3d31yof3bt00" path="res://Images/healthbar/swordthorns12.png" id="21_spqro"]

[sub_resource type="GDScript" id="GDScript_ckrbt"]
script/source = "extends Area2D

func _on_body_entered(body):
	if body.name == \"Player\" and body.has_key == true:
		queue_free()
		var key = body.get_node_or_null(\"Key\")
		if key:
			key.queue_free()
			get_tree().reload_current_scene()

	
"

[sub_resource type="SpriteFrames" id="SpriteFrames_ef6fe"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("9_ef6fe")
}, {
"duration": 1.0,
"texture": ExtResource("10_7xy2x")
}, {
"duration": 1.0,
"texture": ExtResource("11_wwjdc")
}, {
"duration": 1.0,
"texture": ExtResource("12_3bagr")
}, {
"duration": 1.0,
"texture": ExtResource("13_6qpf1")
}, {
"duration": 1.0,
"texture": ExtResource("14_5ylc0")
}, {
"duration": 1.0,
"texture": ExtResource("15_bc0wh")
}, {
"duration": 1.0,
"texture": ExtResource("16_b725k")
}, {
"duration": 1.0,
"texture": ExtResource("17_jhlv2")
}, {
"duration": 1.0,
"texture": ExtResource("18_wnion")
}, {
"duration": 1.0,
"texture": ExtResource("19_ceggk")
}, {
"duration": 1.0,
"texture": ExtResource("20_fe5yt")
}, {
"duration": 1.0,
"texture": ExtResource("21_spqro")
}],
"loop": true,
"name": &"default",
"speed": 1.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_ckrbt"]
radius = 50.990196

[sub_resource type="GDScript" id="GDScript_b2ndw"]
script/source = "extends Control

@onready var buttons: VBoxContainer = $PanelContainer/Pauza
@onready var options: Panel = $PanelContainer/Options

func _ready():
	hide()
	buttons.visible = true
	options.visible = false
	buttons.get_child(0).grab_focus()

func pause():
	get_tree().paused = true
	show()
	buttons.visible = true
	options.visible = false
	buttons.get_child(0).grab_focus()

func resume():
	get_tree().paused = false
	hide()

func _process(delta):
	if Input.is_action_just_pressed(\"escape\"):
		if options.visible:
			_on_back_pressed()
		elif get_tree().paused:
			resume()
		else:
			pause()

func _on_resume_pressed() -> void:
	resume()

func _on_options_pressed() -> void:
	buttons.visible = false
	options.visible = true
	options.get_child(0).grab_focus()

func _on_back_pressed() -> void:
	options.visible = false
	buttons.visible = true
	buttons.get_child(0).grab_focus()

func _on_quit_pressed() -> void:
	get_tree().quit()

func _on_restart_pressed() -> void:
	resume()
	get_tree().reload_current_scene()
"

[node name="Level2" type="Node2D" unique_id=434574265]

[node name="Door" parent="." unique_id=1837347098 instance=ExtResource("1_b2ndw")]
position = Vector2(680.00006, -705)
scale = Vector2(15, 15)
script = SubResource("GDScript_ckrbt")

[node name="Healthbar2" type="AnimatedSprite2D" parent="." unique_id=148839477]
process_mode = 4
physics_interpolation_mode = 2
position = Vector2(-1669.1501, -725.83746)
scale = Vector2(0.49399334, 0.5684786)
sprite_frames = SubResource("SpriteFrames_ef6fe")
script = ExtResource("15_7xy2x")

[node name="Player" parent="." unique_id=2050266436 instance=ExtResource("1_ggyr1")]
position = Vector2(1343, -723.9998)
scale = Vector2(0.2, 0.2)

[node name="jump_sfx" type="AudioStreamPlayer" parent="Player" unique_id=352376727]
stream = ExtResource("17_wwjdc")

[node name="TileMapLayer" parent="." unique_id=1400714509 instance=ExtResource("2_oqwaf")]
position = Vector2(-155, 0)
scale = Vector2(0.4, 0.4)
tile_map_data = PackedByteArray("AADk/o//AAAHAAoAAFDk/rv/AAAHAAoAAFDk/uX/AAAHAAoAAFDk/g8AAAAHAAoAAFDk/hAAAAAHAAoAAFDk/jkAAAAHAAoAAFD2/nj/AAAHAAoAACAe/3j/AAAHAAoAACBI/3j/AAAHAAoAACBw/3j/AAAHAAoAACCa/3j/AAAHAAoAACDC/3j/AAAHAAoAACDs/3j/AAAHAAoAACAUAHj/AAAHAAoAACA8AHj/AAAHAAoAACBkAHj/AAAHAAoAACCJAKP/AAAHAAoAAACbAJD/AAAHAAoAAGD2/ogAAAAHAAoAAAAh/4gAAAAHAAoAAABL/4gAAAAHAAoAAAB2/4gAAAAHAAoAAACh/4gAAAAHAAoAAADL/4gAAAAHAAoAAADy/4gAAAAHAAoAAAAdAIgAAAAHAAoAAABHAIgAAAAHAAoAAADk/mQAAAAHAAoAAFDk/pAAAAAHAAoAAFBIAYkAAAAHAAoAAABOAV4AAAAHAAoAAEBOAYkAAAAHAAoAAEDpAIkAAAAHAAoAAAATAYkAAAAHAAoAAAA5AYkAAAAHAAoAAABOAZL/AAAHAAoAAEBOAef/AAAHAAoAAEBOARIAAAAHAAoAAEBOATsAAAAHAAoAAECOAHj/AAAHAAoAACC2AHj/AAAHAAoAACDgAHf/AAAHAAoAACAIAXf/AAAHAAoAACAYAXf/AAAHAAoAACBAAXf/AAAHAAoAACAX/0QAAAAHAAoAAABZ/xwAAAAHAAoAAAB+/2oAAQAIAAQAAACB/zUAAQAIAAQAAACj//j/AQAIAAQAAAC8/1YAAAAHAAoAAAAOAPf/AAAHAAoAAABzAD4AAAAHAAoAAACGAFAAAAAHAAoAAFADADUAAQAIAAQAAAB3AAwAAQAIAAQAAAACATIAAAAHAAoAAAAZAdL/AAAHAAoAAACvAFEAAAAHAAoAAADvAGcAAAAHAAoAAACTANv/AAAHAAoAAADbAKH/AQAIAAQAAABOAb3/AAAHAAoAAEBQAbP/AAAHAAoAAACGAHYAAAAHAAoAAFDDAIkAAAAHAAoAAACZAIkAAAAHAAoAAABuAIkAAAAHAAoAAABN/9r/AAAHAAoAAAAhAK3/AQAIAAQAAAC0/7v/AQAIAAQAAAA=")

[node name="Camera2D" type="Camera2D" parent="." unique_id=424809203]
zoom = Vector2(0.48, 0.6)

[node name="Sprite2D" type="Sprite2D" parent="." unique_id=1721454059]
modulate = Color(0.7953939, 0.79539394, 0.7953939, 1)
self_modulate = Color(0.81240565, 0.8124055, 0.8124055, 1)
z_index = -4
position = Vector2(-45.499878, 86)
scale = Vector2(1.8, 1.2)
texture = ExtResource("3_oqwaf")
metadata/_edit_lock_ = true

[node name="Key" type="Area2D" parent="." unique_id=1556154217]
position = Vector2(1225, -671)
script = ExtResource("4_4ouur")

[node name="Sprite2D" type="Sprite2D" parent="Key" unique_id=850169483]
position = Vector2(1, 1)
texture = ExtResource("5_b2ndw")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Key" unique_id=1167165645]
position = Vector2(-3, 2)
shape = SubResource("CircleShape2D_ckrbt")

[node name="pause" parent="." unique_id=1949486921 instance=ExtResource("6_b2ndw")]
visible = false
script = SubResource("GDScript_b2ndw")

[node name="AerisMovingMountains(freetouse_com)" type="AudioStreamPlayer" parent="." unique_id=1302504571]
stream = ExtResource("8_j7kct")
volume_db = -12.316
autoplay = true
bus = &"Music"

[connection signal="body_entered" from="Door" to="Door" method="_on_body_entered"]
[connection signal="body_entered" from="Key" to="Key" method="_on_body_entered"]
