[gd_scene format=4 uid="uid://prohkk7hrxn1"]

[ext_resource type="PackedScene" uid="uid://cychwb6jlaph6" path="res://Level/Door.tscn" id="1_xrbht"]
[ext_resource type="AudioStream" uid="uid://nncu64ijkdu7" path="res://sfx/dveře.mp3" id="2_t6iae"]
[ext_resource type="Texture2D" uid="uid://gnruy0m47d0f" path="res://Images/healthbar/swordthorns0.png" id="3_pbwjf"]
[ext_resource type="Texture2D" uid="uid://wxy35p58aam4" path="res://Images/healthbar/swordthorns1.png" id="4_8hug2"]
[ext_resource type="Texture2D" uid="uid://jtqsku8htfgr" path="res://Images/healthbar/swordthorns2.png" id="5_d228i"]
[ext_resource type="Texture2D" uid="uid://cvldh4lmi8kos" path="res://Images/healthbar/swordthorns3.png" id="6_ra68v"]
[ext_resource type="Texture2D" uid="uid://dc8g33orhp7db" path="res://Images/healthbar/swordthorns4.png" id="7_b46it"]
[ext_resource type="Texture2D" uid="uid://bp0hemih7c4ki" path="res://Images/healthbar/swordthorns5.png" id="8_wm2mp"]
[ext_resource type="Texture2D" uid="uid://b15ixa08lk2fy" path="res://Images/healthbar/swordthorns6.png" id="9_uv45e"]
[ext_resource type="Texture2D" uid="uid://jmsq20vmf1r5" path="res://Images/healthbar/swordthorns7.png" id="10_d86dq"]
[ext_resource type="Texture2D" uid="uid://cfqfob8a54u3w" path="res://Images/healthbar/swordthorns8.png" id="11_a46f6"]
[ext_resource type="Texture2D" uid="uid://l2sog1v7uasm" path="res://Images/healthbar/swordthorns9.png" id="12_cymbl"]
[ext_resource type="Texture2D" uid="uid://dt2tyjqe5g63a" path="res://Images/healthbar/swordthorns10.png" id="13_th8r1"]
[ext_resource type="Texture2D" uid="uid://bl7bflx1e38qj" path="res://Images/healthbar/swordthorns11.png" id="14_fbeht"]
[ext_resource type="Texture2D" uid="uid://c3d31yof3bt00" path="res://Images/healthbar/swordthorns12.png" id="15_trtbo"]
[ext_resource type="Script" uid="uid://dkkvk8sekqcof" path="res://Level/healthbar_2.gd" id="16_0cfkt"]
[ext_resource type="AudioStream" uid="uid://nagflyljcl5k" path="res://sfx/smruť.mp3" id="17_efy6y"]
[ext_resource type="AudioStream" uid="uid://dess7q1kysrwm" path="res://sfx/wines.mp3" id="18_2ctr4"]
[ext_resource type="PackedScene" uid="uid://phn6t8twewhc" path="res://Player/character_body_2d.tscn" id="19_eks65"]
[ext_resource type="AudioStream" uid="uid://bvmqpjhwc8mqk" path="res://sfx/hopskok.wav" id="20_ivcg5"]
[ext_resource type="AudioStream" uid="uid://dnohhb8xaejo" path="res://sfx/BEZIFAKT.mp3" id="21_wshhh"]
[ext_resource type="PackedScene" uid="uid://o8foele5h6u1" path="res://Level/tile_map_layer.tscn" id="22_4rcls"]
[ext_resource type="Texture2D" uid="uid://x4ov6a2danpx" path="res://Images/backgoundsceneee.png" id="23_4x6ev"]
[ext_resource type="PackedScene" uid="uid://b3h41p4ixgcue" path="res://Level/key.tscn" id="24_gqrfg"]
[ext_resource type="AudioStream" uid="uid://dhwp0inaqk3q" path="res://sfx/kluc.wav" id="25_1hrnx"]
[ext_resource type="PackedScene" uid="uid://cdmb1cjkacdus" path="res://pause/pause.tscn" id="26_8yxu6"]
[ext_resource type="AudioStream" uid="uid://bd72kboqukdj1" path="res://Level/Aeris - Moving Mountains (freetouse.com).mp3" id="27_8yfc5"]
[ext_resource type="Script" uid="uid://8iuajnelcefg" path="res://Level/animaled_lexl.gd" id="28_sfi2n"]
[ext_resource type="FontFile" uid="uid://dbkm7sdh4knkb" path="res://menu/Rocky Block.otf" id="29_rrxpp"]
[ext_resource type="AudioStream" uid="uid://noji0fcpblcn" path="res://sfx/freesound_community-mamie_gibberish_2-95772.mp3" id="30_frrbw"]

[sub_resource type="GDScript" id="GDScript_ckrbt"]
script/source = "extends Area2D
@onready var door: AudioStreamPlayer = $door

func _on_body_entered(body):
	if body.name == \"Player\" and body.has_key == true:
		queue_free()
		var key = body.get_node_or_null(\"Key\")
		if key:
			door.play()
			key.queue_free()
			get_tree().reload_current_scene()

	
"

[sub_resource type="SpriteFrames" id="SpriteFrames_ef6fe"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_pbwjf")
}, {
"duration": 1.0,
"texture": ExtResource("4_8hug2")
}, {
"duration": 1.0,
"texture": ExtResource("5_d228i")
}, {
"duration": 1.0,
"texture": ExtResource("6_ra68v")
}, {
"duration": 1.0,
"texture": ExtResource("7_b46it")
}, {
"duration": 1.0,
"texture": ExtResource("8_wm2mp")
}, {
"duration": 1.0,
"texture": ExtResource("9_uv45e")
}, {
"duration": 1.0,
"texture": ExtResource("10_d86dq")
}, {
"duration": 1.0,
"texture": ExtResource("11_a46f6")
}, {
"duration": 1.0,
"texture": ExtResource("12_cymbl")
}, {
"duration": 1.0,
"texture": ExtResource("13_th8r1")
}, {
"duration": 1.0,
"texture": ExtResource("14_fbeht")
}, {
"duration": 1.0,
"texture": ExtResource("15_trtbo")
}],
"loop": true,
"name": &"default",
"speed": 1.0
}]

[sub_resource type="GDScript" id="GDScript_b2ndw"]
script/source = "extends Control

@onready var buttons: VBoxContainer = $PanelContainer/Pauza
@onready var options: Panel = $PanelContainer/Options
@onready var drop: AudioStreamPlayer = $drop

func _ready():
	hide()
	buttons.visible = true
	options.visible = false
	buttons.get_child(0).grab_focus()

func pause():
	get_tree().paused = true
	show()
	drop.play()
	buttons.visible = true
	options.visible = false
	buttons.get_child(0).grab_focus()
	

func resume():
	drop.play()
	get_tree().paused = false
	hide()

func _process(delta):
	if Input.is_action_just_pressed(\"escape\"):
		if options.visible:
			_on_back_pressed()
			
		elif get_tree().paused:
			resume()
			
		else:
			pause()

func _on_resume_pressed() -> void:
	drop.play()
	resume()

func _on_options_pressed() -> void:
	drop.play()
	buttons.visible = false
	options.visible = true
	options.get_child(0).grab_focus()

func _on_back_pressed() -> void:
	drop.play()
	options.visible = false
	buttons.visible = true
	buttons.get_child(0).grab_focus()

func _on_quit_pressed() -> void:
	drop.play()
	get_tree().quit()

func _on_restart_pressed() -> void:
	drop.play()
	resume()
	get_tree().reload_current_scene()
"

[sub_resource type="Animation" id="Animation_jhlv2"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Label:visible_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_wnion"]
resource_name = "shiw"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Label:visible_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.8333333),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ceggk"]
_data = {
&"RESET": SubResource("Animation_jhlv2"),
&"shiw": SubResource("Animation_wnion")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fe5yt"]
size = Vector2(126, 198.5)

[node name="Level2" type="Node2D" unique_id=434574265]

[node name="Door" parent="." unique_id=1837347098 instance=ExtResource("1_xrbht")]
position = Vector2(738, -690)
scale = Vector2(168.095, 25.025)
script = SubResource("GDScript_ckrbt")

[node name="door" type="AudioStreamPlayer" parent="Door" unique_id=880202352]
stream = ExtResource("2_t6iae")
bus = &"SFX"

[node name="Healthbar2" type="AnimatedSprite2D" parent="." unique_id=148839477]
process_mode = 4
physics_interpolation_mode = 2
position = Vector2(-1320.4639, -572.83746)
scale = Vector2(1.6260918, 2.046739)
sprite_frames = SubResource("SpriteFrames_ef6fe")
script = ExtResource("16_0cfkt")

[node name="death" type="AudioStreamPlayer" parent="Healthbar2" unique_id=1646397227]
stream = ExtResource("17_efy6y")
bus = &"SFX"

[node name="wines" type="AudioStreamPlayer" parent="Healthbar2" unique_id=1627453427]
stream = ExtResource("18_2ctr4")
bus = &"SFX"

[node name="Player" parent="." unique_id=2050266436 instance=ExtResource("19_eks65")]
position = Vector2(-1796, 722)
scale = Vector2(0.25, 0.25)

[node name="jump_sfx" type="AudioStreamPlayer" parent="Player" unique_id=352376727]
stream = ExtResource("20_ivcg5")
bus = &"SFX"

[node name="run_sfx" type="AudioStreamPlayer" parent="Player" unique_id=128115905]
stream = ExtResource("21_wshhh")
bus = &"SFX"
parameters/looping = true

[node name="TileMapLayer" parent="." unique_id=1400714509 instance=ExtResource("22_4rcls")]
position = Vector2(-155, -1.9999999)
scale = Vector2(0.4, 0.4)
tile_map_data = PackedByteArray("AADk/o//AAAHAAoAAFDk/rv/AAAHAAoAAFDk/uX/AAAHAAoAAFDk/g8AAAAHAAoAAFDk/hAAAAAHAAoAAFDk/jkAAAAHAAoAAFD2/nj/AAAHAAoAACAe/3j/AAAHAAoAACBI/3j/AAAHAAoAACBw/3j/AAAHAAoAACCa/3j/AAAHAAoAACDC/3j/AAAHAAoAACDs/3j/AAAHAAoAACAUAHj/AAAHAAoAACA8AHj/AAAHAAoAACBkAHj/AAAHAAoAACCJAKP/AAAHAAoAAACbAJD/AAAHAAoAAGD2/ogAAAAHAAoAAAAh/4gAAAAHAAoAAABL/4gAAAAHAAoAAAB2/4gAAAAHAAoAAACh/4gAAAAHAAoAAADL/4gAAAAHAAoAAADy/4gAAAAHAAoAAAAdAIgAAAAHAAoAAABHAIgAAAAHAAoAAADk/mQAAAAHAAoAAFDk/pAAAAAHAAoAAFBIAYkAAAAHAAoAAABOAV4AAAAHAAoAAEBOAYkAAAAHAAoAAEDpAIkAAAAHAAoAAAATAYkAAAAHAAoAAAA5AYkAAAAHAAoAAABOAZL/AAAHAAoAAEBOAef/AAAHAAoAAEBOARIAAAAHAAoAAEBOATsAAAAHAAoAAECOAHj/AAAHAAoAACC2AHj/AAAHAAoAACDgAHf/AAAHAAoAACAIAXf/AAAHAAoAACAYAXf/AAAHAAoAACBAAXf/AAAHAAoAACDbAKH/AQAIAAQAAADDAIkAAAAHAAoAAACZAIkAAAAHAAoAAABuAIkAAAAHAAoAAADZ/1YAAAAHAAoAAACV/3AAAQAIAAQAABD//1YAAAAHAAoAAAAmAD0AAQAIAAQAAADmAAUAAAAHAAoAAAAOAQUAAAAHAAoAAABOAb3/AAAHAAoAAEDlANP/AQAIAAQAABA1Abv/AAAHAAoAAACyABoAAQAIAAQAAACbAOn/AAAHAAoAAABYANP/AQAIAAQAABB6AD0AAAAHAAoAAACNAE8AAAAHAAoAAFCNAHUAAAAHAAoAAFAMALn/AQAIAAQAAAC9/9b/AAAHAAoAAAA=")

[node name="Camera2D" type="Camera2D" parent="." unique_id=424809203]
zoom = Vector2(0.48, 0.6)

[node name="Sprite2D" type="Sprite2D" parent="." unique_id=1721454059]
modulate = Color(0.7953939, 0.79539394, 0.7953939, 1)
self_modulate = Color(0.81240565, 0.8124055, 0.8124055, 1)
z_index = -4
position = Vector2(-45.499878, 86)
scale = Vector2(1.8, 1.2)
texture = ExtResource("23_4x6ev")
metadata/_edit_lock_ = true

[node name="Key" parent="." unique_id=1218176629 instance=ExtResource("24_gqrfg")]
position = Vector2(1225, -671)

[node name="key" type="AudioStreamPlayer" parent="Key" unique_id=1918613743]
stream = ExtResource("25_1hrnx")
bus = &"SFX"

[node name="pause" parent="." unique_id=1949486921 instance=ExtResource("26_8yxu6")]
visible = false
script = SubResource("GDScript_b2ndw")

[node name="AerisMovingMountains(freetouse_com)" type="AudioStreamPlayer" parent="." unique_id=1302504571]
stream = ExtResource("27_8yfc5")
volume_db = -12.316
autoplay = true
bus = &"Music"

[node name="Node2D" type="Node2D" parent="." unique_id=2067834708]

[node name="Animaled_lexl" type="Node2D" parent="Node2D" unique_id=724777729]
script = ExtResource("28_sfi2n")

[node name="Label" type="Label" parent="Node2D/Animaled_lexl" unique_id=53886479]
offset_left = -1882.0
offset_top = 411.00003
offset_right = -703.9839
offset_bottom = 563.0735
scale = Vector2(0.6366637, 0.88115275)
theme_override_fonts/font = ExtResource("29_rrxpp")
theme_override_font_sizes/font_size = 50
text = "Kaaaaamo pls iba zobr ten kluc  a odomkni dvere. Nevymyslaj ziadnee habadury pls"
horizontal_alignment = 1
vertical_alignment = 1
visible_characters = 0
visible_ratio = 0.0

[node name="AnimationPlayer" type="AnimationPlayer" parent="Node2D/Animaled_lexl" unique_id=863568260]
libraries/ = SubResource("AnimationLibrary_ceggk")
speed_scale = 0.242

[node name="Area2D" type="Area2D" parent="Node2D/Animaled_lexl" unique_id=62939070]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/Animaled_lexl/Area2D" unique_id=1928331808]
position = Vector2(-1543, 677)
shape = SubResource("RectangleShape2D_fe5yt")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="Node2D/Animaled_lexl" unique_id=855676231]
stream = ExtResource("30_frrbw")
volume_db = -9.123
bus = &"SFX"

[connection signal="body_entered" from="Door" to="Door" method="_on_body_entered"]
