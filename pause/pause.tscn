[gd_scene format=3 uid="uid://cdmb1cjkacdus"]

[ext_resource type="Script" uid="uid://cuenpy74ige38" path="res://menu/audio_control.gd" id="1_w5bci"]
[ext_resource type="Script" uid="uid://3ml5fu27xyp7" path="res://menu/fullscreen.gd" id="2_mwgvy"]

[sub_resource type="GDScript" id="GDScript_ftery"]
script/source = "extends Control

@onready var buttons: VBoxContainer = $PanelContainer/Pauza
@onready var options: Panel = $PanelContainer/Options

func _ready():
	hide()
	buttons.visible = true
	options.visible = false
	buttons.get_child(0).grab_focus()

func pause():
	get_tree().paused = true
	show()
	buttons.visible = true
	options.visible = false
	buttons.get_child(0).grab_focus()

func resume():
	get_tree().paused = false
	hide()

func _process(delta):
	if Input.is_action_just_pressed(\"escape\"):
		if options.visible:
			_on_back_pressed()
		elif get_tree().paused:
			resume()
		else:
			pause()

func _on_resume_pressed() -> void:
	resume()

func _on_options_pressed() -> void:
	buttons.visible = false
	options.visible = true
	options.get_child(0).grab_focus()

func _on_back_pressed() -> void:
	options.visible = false
	buttons.visible = true
	buttons.get_child(0).grab_focus()

func _on_quit_pressed() -> void:
	get_tree().quit()

func _on_restart_pressed() -> void:
	resume()
	get_tree().reload_current_scene()
"

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_w5bci"]

[sub_resource type="StyleBoxLine" id="StyleBoxLine_qhaht"]
color = Color(1, 1, 1, 1)
thickness = 20

[sub_resource type="StyleBoxLine" id="StyleBoxLine_m0fkg"]
color = Color(1, 0, 0, 1)
thickness = 20

[sub_resource type="StyleBoxLine" id="StyleBoxLine_oaeo8"]
color = Color(1, 0, 0, 1)
thickness = 20

[node name="pause" type="Control" unique_id=1949486921]
process_mode = 3
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = SubResource("GDScript_ftery")

[node name="ColorRect" type="ColorRect" parent="." unique_id=458873910]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="PanelContainer" type="PanelContainer" parent="." unique_id=1915785156]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 238.0
offset_top = 134.0
offset_right = -303.5
offset_bottom = -227.0
grow_horizontal = 2
grow_vertical = 2

[node name="Pauza" type="VBoxContainer" parent="PanelContainer" unique_id=1924495632]
layout_mode = 2
theme_override_constants/separation = 100

[node name="Resume" type="Button" parent="PanelContainer/Pauza" unique_id=921130474]
custom_minimum_size = Vector2(500, 200)
layout_mode = 2
size_flags_horizontal = 4
theme_override_font_sizes/font_size = 50
text = "Resume"

[node name="Restart" type="Button" parent="PanelContainer/Pauza" unique_id=394188969]
custom_minimum_size = Vector2(500, 200)
layout_mode = 2
size_flags_horizontal = 4
theme_override_font_sizes/font_size = 50
text = "Restart"

[node name="Options" type="Button" parent="PanelContainer/Pauza" unique_id=1163744450]
custom_minimum_size = Vector2(500, 200)
layout_mode = 2
size_flags_horizontal = 4
theme_override_font_sizes/font_size = 50
text = "Options"

[node name="Quit" type="Button" parent="PanelContainer/Pauza" unique_id=618357552]
custom_minimum_size = Vector2(500, 200)
layout_mode = 2
size_flags_horizontal = 4
theme_override_font_sizes/font_size = 50
text = "Quit"

[node name="Options" type="Panel" parent="PanelContainer" unique_id=2061423779]
custom_minimum_size = Vector2(1000, 1000)
layout_mode = 2
size_flags_vertical = 4
theme_override_styles/panel = SubResource("StyleBoxFlat_w5bci")

[node name="Back" type="Button" parent="PanelContainer/Options" unique_id=1366763632]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -235.24997
offset_top = -223.5
offset_right = 128.99048
offset_bottom = 35.624023
grow_horizontal = 2
grow_vertical = 0
scale = Vector2(0.81814116, 0.81814116)
theme_override_font_sizes/font_size = 50
text = "Back"

[node name="Audio Control" type="HSlider" parent="PanelContainer/Options" unique_id=973508666]
custom_minimum_size = Vector2(500, 200)
layout_mode = 0
offset_left = 29.0
offset_top = 154.5
offset_right = 529.0
offset_bottom = 354.5
theme_override_styles/slider = SubResource("StyleBoxLine_qhaht")
theme_override_styles/grabber_area = SubResource("StyleBoxLine_m0fkg")
theme_override_styles/grabber_area_highlight = SubResource("StyleBoxLine_oaeo8")
max_value = 1.0
step = 0.05
value = 1.0
script = ExtResource("1_w5bci")
audio_bus_name = "Music"

[node name="Label2" type="Label" parent="PanelContainer/Options/Audio Control" unique_id=275386877]
custom_minimum_size = Vector2(500, 200)
layout_mode = 0
offset_left = -1.0
offset_top = -33.0
offset_right = 499.0
offset_bottom = 167.0
theme_override_font_sizes/font_size = 50
text = "music volume "

[node name="Fullscreen" type="CheckButton" parent="PanelContainer/Options" unique_id=616412838]
custom_minimum_size = Vector2(500, 200)
layout_mode = 0
offset_left = 17.0
offset_top = 481.5
offset_right = 517.0
offset_bottom = 681.5
scale = Vector2(1.5594354, 1.5594354)
theme_override_font_sizes/font_size = 50
button_pressed = true
text = "fullscreen"
script = ExtResource("2_mwgvy")

[node name="Audio Control2" type="HSlider" parent="PanelContainer/Options" unique_id=1093183622]
custom_minimum_size = Vector2(500, 200)
layout_mode = 0
offset_left = 29.0
offset_top = 364.5
offset_right = 529.0
offset_bottom = 564.5
theme_override_styles/slider = SubResource("StyleBoxLine_qhaht")
theme_override_styles/grabber_area = SubResource("StyleBoxLine_m0fkg")
theme_override_styles/grabber_area_highlight = SubResource("StyleBoxLine_oaeo8")
max_value = 1.0
step = 0.05
value = 1.0
script = ExtResource("1_w5bci")
audio_bus_name = "SFX"

[node name="Label2" type="Label" parent="PanelContainer/Options/Audio Control2" unique_id=1850673048]
custom_minimum_size = Vector2(500, 200)
layout_mode = 0
offset_left = -3.0
offset_top = -26.0
offset_right = 497.0
offset_bottom = 174.0
theme_override_font_sizes/font_size = 50
text = "SFX volume "

[connection signal="pressed" from="PanelContainer/Pauza/Resume" to="." method="_on_resume_pressed"]
[connection signal="pressed" from="PanelContainer/Pauza/Restart" to="." method="_on_restart_pressed"]
[connection signal="pressed" from="PanelContainer/Pauza/Options" to="." method="_on_options_pressed"]
[connection signal="pressed" from="PanelContainer/Pauza/Quit" to="." method="_on_quit_pressed"]
[connection signal="pressed" from="PanelContainer/Options/Back" to="." method="_on_back_pressed"]
[connection signal="value_changed" from="PanelContainer/Options/Audio Control" to="PanelContainer/Options/Audio Control" method="_on_value_changed"]
[connection signal="toggled" from="PanelContainer/Options/Fullscreen" to="PanelContainer/Options/Fullscreen" method="_on_toggled"]
[connection signal="value_changed" from="PanelContainer/Options/Audio Control2" to="PanelContainer/Options/Audio Control2" method="_on_value_changed"]
